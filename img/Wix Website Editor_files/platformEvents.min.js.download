!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n(require("lodash"));else if("function"==typeof define&&define.amd)define(["lodash"],n);else{var t="object"==typeof exports?n(require("lodash")):n(e._);for(var o in t)("object"==typeof exports?exports:e)[o]=t[o]}}(window,(function(e){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(o,a,function(n){return e[n]}.bind(null,a));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=11)}({0:function(e,n,t){"use strict";var o,a,d,i,c;t.d(n,"h",(function(){return i})),t.d(n,"b",(function(){return p})),t.d(n,"d",(function(){return l})),t.d(n,"c",(function(){return r})),t.d(n,"f",(function(){return v})),t.d(n,"e",(function(){return f})),t.d(n,"g",(function(){return y})),t.d(n,"a",(function(){return P})),t.d(n,"i",(function(){return h})),function(e){e.MEMBER="member",e.FUNCTION="function"}(o||(o={})),function(e){e.NoLink="NoLink",e.PageLink="PageLink",e.AnchorLink="AnchorLink",e.ExternalLink="ExternalLink",e.DocumentLink="DocumentLink",e.PhoneLink="PhoneLink",e.EmailLink="EmailLink",e.LoginToWixLink="LoginToWixLink",e.DynamicPageLink="DynamicPageLink",e.EdgeAnchorLink="EdgeAnchorLinks",e.PopupLink="PopupLink",e.FormSubmitButtonLink="FormSubmitButtonLink"}(a||(a={})),function(e){e.Desktop="desktop",e.Mobile="mobile"}(d||(d={})),function(e){e.Page="PAGE",e.Widget="WIDGET"}(i||(i={})),function(e){e.Open="open",e.Closed="closed"}(c||(c={}));var p,l,r,s,m,g,v,u,f,C,y,P;!function(e){e.Image="IMAGE",e.Video="VIDEO",e.Document="DOCUMENT"}(p||(p={})),function(e){e.Success="success",e.Error="error",e.Warning="warning",e.Info="info"}(l||(l={})),function(e){e.REPEATER_EDITOR_MAX_ITEMS="repeaterMaxItemsEditorLimitation"}(r||(r={})),function(e){e.Classic="CLASSIC",e.Responsive="RESPONSIVE",e.ADI="ADI",e.ADI_MA="ADI_MA",e.ADI_TEMPLATE="ADI_TEMPLATE"}(s||(s={})),function(e){e.Editor="EDITOR",e.App="APP"}(m||(m={})),function(e){e.AppMarket="APP_MARKET",e.AddPanel="ADD_PANEL",e.AppPanel="APP_PANEL",e.PageSettingsPanel="PAGE_SETTINGS_PANEL"}(g||(g={})),function(e){e.Settings="settings",e.Layout="layout",e.Design="design",e.Upgrade="upgrade",e.Add="add"}(v||(v={})),function(e){e.MAIN_ACTION="mainActionClicked",e.SECONDARY_ACTION="secActionClicked",e.CLOSE_ACTION="closeActionClicked"}(u||(u={})),function(e){e.PageInfo="PAGE_INFO",e.Layout="LAYOUT",e.Permissions="PERMISSIONS",e.SEO="SEO"}(f||(f={})),function(e){e.Custom="Custom"}(C||(C={})),function(e){e.Neutral="NEUTRAL",e.Free="FREE",e.Paid="PAID"}(y||(y={})),function(e){e.appMenuReorder="appMenuReorder",e.componentDeleted="componentDeleted",e.componentGfppClicked="componentGfppClicked",e.appActionClicked="appActionClicked",e.connectedComponentPasted="connectedComponentPasted",e.connectedComponentDuplicated="connectedComponentDuplicated",e.concurrentPanelEdit="concurrentPanelEdit",e.widgetPasted="widgetPasted",e.widgetDuplicated="widgetDuplicated",e.controllerAdded="controllerAdded",e.controllerSettingsButtonClicked="controllerSettingsButtonClicked",e.controllerGfppClicked="controllerGfppClicked",e.stateChanged="stateChanged",e.stateAdded="stateAdded",e.stateDuplicated="stateDuplicated",e.pageDeleted="pageDeleted",e.siteWasPublished="siteWasPublished",e.siteWasFirstSaved="siteWasFirstSaved",e.siteWasSaved="siteWasSaved",e.startConfiguration="startConfiguration",e.welcomeSectionMainActionClicked="welcomeSectionMainActionClicked",e.widgetGfppClicked="widgetGfppClicked",e.appUpgradeCompleted="appUpgradeCompleted",e.instanceChanged="instanceChanged",e.componentSelectionChanged="componentSelectionChanged",e.globalDesignPresetChanged="globalDesignPresetChanged",e.developerModeChanged="developerModeChanged",e.developerModeStatusChanged="developerModeStatusChanged",e.focusedPageChanged="focusedPageChanged",e.componentAddedToStage="componentAddedToStage",e.connectedComponentAddedToStage="connectedComponentAddedToStage",e.anyComponentAddedToStage="anyComponentAddedToStage",e.componentAnimationChanged="componentAnimationChanged",e.componentDataChanged="componentDataChanged",e.componentDesignChanged="componentDesignChanged",e.componentStyleChanged="componentStyleChanged",e.switchedFromPreview="switchedFromPreview",e.componentArrangementChanged="componentArrangementChanged",e.componentDragEnded="componentDragEnded",e.componentResizeStarted="componentResizeStarted",e.componentRotateEnded="componentRotateEnded",e.sitePublishedDialogClosed="sitePublishedDialogClosed",e.pageBackgroundChanged="pageBackgroundChanged",e.mobileTextScaleChanged="mobileTextScaleChanged",e.componentCropSaved="componentCropSaved",e.toggleBackToTopButtonOn="toggleBackToTopButtonOn",e.componentBehaviorChanged="componentBehaviorChanged",e.componentPropsChanged="componentPropsChanged",e.switchedToMobileView="switchedToMobileView",e.textEditBoxClosed="textEditBoxClosed",e.hideMobileElement="hideMobileElement",e.showMobileElement="showMobileElement",e.pageRenamed="pageRenamed",e.addDynamicPageClicked="addDynamicPageClicked",e.consentPolicyChanged="consentPolicyChanged",e.pageDuplicated="pageDuplicated",e.undo="undo",e.redo="redo",e.addElementsCompClicked="addElementsCompClicked",e.addElementsAllCompsClicked="addElementsAllCompsClicked",e.addElementsResetClicked="addElementsResetClicked",e.appVisitedInDashboard="appVisitedInDashboard",e.componentAddedToApp="componentAddedToApp",e.documentOperationError="documentOperationError",e.solveAddWidgetLimitation="solveAddWidgetLimitation",e.componentConnected="componentConnected",e.componentDisconnected="componentDisconnected"}(P||(P={}));var h=[P.componentSelectionChanged,P.focusedPageChanged,P.anyComponentAddedToStage,P.componentAnimationChanged,P.componentDataChanged,P.componentDesignChanged,P.componentStyleChanged,P.switchedFromPreview,P.componentArrangementChanged,P.componentDragEnded,P.componentResizeStarted,P.componentRotateEnded,P.sitePublishedDialogClosed,P.pageBackgroundChanged,P.mobileTextScaleChanged,P.componentCropSaved,P.toggleBackToTopButtonOn,P.componentBehaviorChanged,P.componentPropsChanged,P.switchedToMobileView,P.textEditBoxClosed,P.hideMobileElement,P.showMobileElement,P.undo,P.redo,P.appVisitedInDashboard,P.developerModeStatusChanged,P.componentConnected,P.componentDisconnected,P.solveAddWidgetLimitation];P.appMenuReorder,P.componentDeleted,P.componentGfppClicked,P.appActionClicked,P.connectedComponentPasted,P.connectedComponentDuplicated,P.concurrentPanelEdit,P.widgetPasted,P.widgetDuplicated,P.controllerAdded,P.controllerSettingsButtonClicked,P.controllerGfppClicked,P.stateChanged,P.stateAdded,P.stateDuplicated,P.pageDeleted,P.siteWasPublished,P.siteWasFirstSaved,P.siteWasSaved,P.startConfiguration,P.welcomeSectionMainActionClicked,P.widgetGfppClicked,P.appUpgradeCompleted,P.instanceChanged,P.globalDesignPresetChanged,P.developerModeChanged,P.connectedComponentAddedToStage,P.pageRenamed,P.addDynamicPageClicked,P.consentPolicyChanged,P.pageDuplicated,P.addElementsCompClicked,P.addElementsAllCompsClicked,P.addElementsResetClicked,P.componentAddedToApp,P.documentOperationError},1:function(n,t){n.exports=e},11:function(e,n,t){"use strict";t.r(n),t.d(n,"EventType",(function(){return o.a})),t.d(n,"factory",(function(){return g})),t.d(n,"customEventTypes",(function(){return o.i})),t.d(n,"propagation",(function(){return v}));var o=t(0),a=t(1),d=t.n(a);const i={};"function"==typeof CustomEvent?i.CustomEvent=CustomEvent:"function"==typeof Event?i.CustomEvent=class extends Event{constructor(e,n){super(e,n),this.detail=n&&n.detail||null}}:"undefined"==typeof document?i.CustomEvent=class{constructor(e,n){if(void 0===e)throw new TypeError("Not enough arguments");this.type=e,this.bubbles=n&&!!n.bubbles||!1,this.cancelable=n&&!!n.cancelable||!1,this.composed=n&&!!n.composed||!1,this.detail=n&&n.detail||null}}:
/*! (c) Andrea Giammarchi - ISC */
i.CustomEvent=function(e){return n.prototype=new n("").constructor.prototype,n;function n(e,n){n||(n={});const t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!!n.bubbles,!!n.cancelable,n.detail),t}}();var c=i.CustomEvent;const p="undefined"==typeof globalThis?self:globalThis;function l(e){var n;return"function"==typeof(null===(n=e.source)||void 0===n?void 0:n.postMessage)}function r(e){return!!l(e)&&function(e){var n;const t=new URL(e);return(null===(n=p.location)||void 0===n?void 0:n.hostname)===t.hostname||("static.parastorage.com"===t.hostname||t.hostname.endsWith(".wix.com")||t.hostname.endsWith(".editorx.com")||t.hostname.endsWith(".wix.dev"))}(e.origin)}let s;function m(e){if(null==e)return!0;if(!s){const{port1:e}=new MessageChannel;s=e}try{s.postMessage(e)}catch(e){if("DataCloneError"===(null==e?void 0:e.name))return!1;throw e}return!0}const g={appMenuReorder:({menuId:e,menuItemId:n,parentId:t,newIndex:a})=>({eventType:o.a.appMenuReorder,eventPayload:{menuId:e,menuItemId:n,parentId:t,newIndex:a}}),componentDeleted:({componentRef:e,connections:n})=>({eventType:o.a.componentDeleted,eventPayload:{componentRef:e,connections:n}}),componentGfppClicked:({id:e,role:n,componentRef:t,controllerRef:a})=>({eventType:o.a.componentGfppClicked,eventPayload:{id:e,role:n,componentRef:t,controllerRef:a}}),appActionClicked:({actionId:e})=>({eventType:o.a.appActionClicked,eventPayload:{actionId:e}}),connectedComponentPasted:({componentRef:e,connection:n,originalComponentRef:t})=>({eventType:o.a.connectedComponentPasted,eventPayload:{componentRef:e,originalComponentRef:t,connection:n}}),connectedComponentDuplicated:({componentRef:e,connection:n,originalComponentRef:t})=>({eventType:o.a.connectedComponentDuplicated,eventPayload:{componentRef:e,originalComponentRef:t,connection:n}}),concurrentPanelEdit:()=>({eventType:o.a.concurrentPanelEdit,eventPayload:{}}),widgetPasted:({componentRef:e,originalComponentRef:n})=>({eventType:o.a.widgetPasted,eventPayload:{componentRef:e,originalComponentRef:n}}),widgetDuplicated:({componentRef:e,originalComponentRef:n})=>({eventType:o.a.widgetDuplicated,eventPayload:{componentRef:e,originalComponentRef:n}}),controllerAdded:({controllerRef:e,origin:n})=>({eventType:o.a.controllerAdded,eventPayload:{controllerRef:e,origin:n}}),controllerSettingsButtonClicked:({controllerRef:e,controllerConfig:n,controllerType:t,controllerDisplayName:a})=>({eventType:o.a.controllerSettingsButtonClicked,eventPayload:{controllerRef:e,controllerConfig:n,controllerType:t,controllerDisplayName:a,origin:"gfpp"}}),controllerGfppClicked:({id:e,controllerRef:n,controllerConfig:t,controllerType:a,controllerDisplayName:d})=>({eventType:o.a.controllerGfppClicked,eventPayload:{id:e,controllerRef:n,controllerConfig:t,controllerType:a,controllerDisplayName:d,origin:"gfpp"}}),stateChanged:({componentRef:e,selectedStateRef:n})=>({eventType:o.a.stateChanged,eventPayload:{componentRef:e,selectedStateRef:n}}),stateAdded:({componentRef:e,addedStateRef:n})=>({eventType:o.a.stateAdded,eventPayload:{componentRef:e,addedStateRef:n}}),stateDuplicated:({componentRef:e,newDuplicatedStateRef:n})=>({eventType:o.a.stateDuplicated,eventPayload:{componentRef:e,newDuplicatedStateRef:n}}),pageDeleted:({pageRole:e})=>({eventType:o.a.pageDeleted,eventPayload:{pageRole:e}}),siteWasPublished:()=>({eventType:o.a.siteWasPublished}),siteWasFirstSaved:({instanceId:e,instance:n,metaSiteId:t})=>({eventType:o.a.siteWasFirstSaved,eventPayload:{instanceId:e,instance:n,metaSiteId:t}}),siteWasSaved:({isAutosave:e})=>({eventType:o.a.siteWasSaved,eventPayload:{isAutosave:e}}),startConfiguration:({token:e,initialData:n,origin:t,commonConfig:a})=>({eventType:o.a.startConfiguration,eventPayload:{token:e,initialData:n,origin:t,commonConfig:a}}),welcomeSectionMainActionClicked:()=>({eventType:o.a.welcomeSectionMainActionClicked,eventPayload:{}}),widgetGfppClicked:({componentRef:e,id:n,gfppOrigin:t})=>({eventType:o.a.widgetGfppClicked,eventPayload:{id:n,componentRef:e,gfppOrigin:t}}),appUpgradeCompleted:({vendorProductId:e,cycle:n,instance:t})=>({eventType:o.a.appUpgradeCompleted,eventPayload:{vendorProductId:e,cycle:n,instance:t}}),globalDesignPresetChanged:({componentRef:e,preset:n})=>({eventType:o.a.globalDesignPresetChanged,eventPayload:{preset:n,componentRef:e}}),developerModeChanged:({value:e})=>({eventType:o.a.developerModeChanged,eventPayload:{value:e}}),developerModeStatusChanged:({status:e})=>({eventType:o.a.developerModeStatusChanged,eventPayload:{status:e}}),componentAddedToStage:({componentType:e,compRef:n})=>({eventType:o.a.componentAddedToStage,eventPayload:{componentType:e,compRef:n}}),connectedComponentAddedToStage:({componentType:e,compRef:n})=>({eventType:o.a.connectedComponentAddedToStage,eventPayload:{componentType:e,compRef:n}}),anyComponentAddedToStage:({componentType:e,compRef:n})=>({eventType:o.a.anyComponentAddedToStage,eventPayload:{componentType:e,compRef:n}}),componentAnimationChanged:({compRef:e})=>({eventType:o.a.componentAnimationChanged,eventPayload:{compRef:e}}),componentDataChanged:({compRef:e,previousData:n})=>({eventType:o.a.componentDataChanged,eventPayload:{compRef:e,previousData:n}}),componentDesignChanged:({compRef:e})=>({eventType:o.a.componentDesignChanged,eventPayload:{compRef:e}}),componentStyleChanged:({compRef:e})=>({eventType:o.a.componentStyleChanged,eventPayload:{compRef:e}}),componentArrangementChanged:({compRef:e})=>({eventType:o.a.componentArrangementChanged,eventPayload:{compRef:e}}),componentDragEnded:({compRef:e})=>({eventType:o.a.componentDragEnded,eventPayload:{compRef:e}}),componentResizeStarted:({compRef:e})=>({eventType:o.a.componentResizeStarted,eventPayload:{compRef:e}}),componentRotateEnded:({compRef:e})=>({eventType:o.a.componentRotateEnded,eventPayload:{compRef:e}}),pageBackgroundChanged:({pageRef:e})=>({eventType:o.a.pageBackgroundChanged,eventPayload:{pageRef:e}}),pageDuplicated:({originalPageRef:e,duplicatedPageRef:n})=>({eventType:o.a.pageDuplicated,eventPayload:{originalPageRef:e,duplicatedPageRef:n}}),sitePublishedDialogClosed:()=>({eventType:o.a.sitePublishedDialogClosed,eventPayload:{}}),switchedFromPreview:()=>({eventType:o.a.switchedFromPreview,eventPayload:{}}),mobileTextScaleChanged:({compRef:e})=>({eventType:o.a.mobileTextScaleChanged,eventPayload:{compRef:e}}),componentCropSaved:({compRef:e})=>({eventType:o.a.componentCropSaved,eventPayload:{compRef:e}}),toggleBackToTopButtonOn:()=>({eventType:o.a.toggleBackToTopButtonOn,eventPayload:{}}),componentBehaviorChanged:({compRef:e})=>({eventType:o.a.componentBehaviorChanged,eventPayload:{compRef:e}}),componentPropsChanged:({compRef:e})=>({eventType:o.a.componentPropsChanged,eventPayload:{compRef:e}}),switchedToMobileView:()=>({eventType:o.a.switchedToMobileView,eventPayload:{}}),textEditBoxClosed:({compRef:e})=>({eventType:o.a.textEditBoxClosed,eventPayload:{compRef:e}}),hideMobileElement:({compRef:e})=>({eventType:o.a.hideMobileElement,eventPayload:{compRef:e}}),showMobileElement:({compRef:e})=>({eventType:o.a.showMobileElement,eventPayload:{compRef:e}}),focusedPageChanged:({pageRef:e})=>({eventType:o.a.focusedPageChanged,eventPayload:{pageRef:e}}),instanceChanged:e=>({eventType:o.a.instanceChanged,eventPayload:{instance:e}}),componentSelectionChanged:e=>({eventType:o.a.componentSelectionChanged,eventPayload:{componentRefs:e}}),pageRenamed:({pageRef:e,title:n})=>({eventType:o.a.pageRenamed,eventPayload:{pageRef:e,title:n}}),addDynamicPageClicked:({origin:e,pageRef:n})=>({eventType:o.a.addDynamicPageClicked,eventPayload:{origin:e,pageRef:n}}),consentPolicyChanged:({currentPolicy:e})=>({eventType:o.a.consentPolicyChanged,eventPayload:{currentPolicy:e}}),undo:({label:e})=>({eventType:o.a.undo,eventPayload:{label:e}}),redo:({label:e})=>({eventType:o.a.redo,eventPayload:{label:e}}),addElementsCompClicked:({label:e,isEssential:n,widgetRef:t})=>({eventType:o.a.addElementsCompClicked,eventPayload:{label:e,isEssential:n,widgetRef:t}}),addElementsAllCompsClicked:({widgetRef:e})=>({eventType:o.a.addElementsAllCompsClicked,eventPayload:{widgetRef:e}}),addElementsResetClicked:({widgetRef:e})=>({eventType:o.a.addElementsResetClicked,eventPayload:{widgetRef:e}}),appVisitedInDashboard:({visitedAppDefIds:e})=>({eventType:o.a.appVisitedInDashboard,eventPayload:{visitedAppDefIds:e}}),componentAddedToApp:({widgetRef:e,compRef:n})=>({eventType:o.a.componentAddedToApp,eventPayload:{widgetRef:e,compRef:n}}),documentOperationError:({methodName:e,error:n})=>({eventType:o.a.documentOperationError,eventPayload:{methodName:e,error:{name:n.name,message:n.message,stack:n.stack}}}),solveAddWidgetLimitation:({origin:e,widgetId:n})=>({eventType:o.a.solveAddWidgetLimitation,eventPayload:{origin:e,widgetId:n}}),componentConnected:({controllerRef:e,compRef:n})=>({eventType:o.a.componentConnected,eventPayload:{controllerRef:e,compRef:n}}),componentDisconnected:({controllerRef:e,compRef:n})=>({eventType:o.a.componentDisconnected,eventPayload:{controllerRef:e,compRef:n}})},v={initMainFrame:function(){const e=new MessageChannel,n=e.port1,t=e.port2;p.addEventListener("message",(function e(n){var o;if("event propagation: sender ready"!==(null===(o=n.data)||void 0===o?void 0:o.type))return;if(!r(n))return;p.removeEventListener("message",e);const a={type:"event propagation: connect sender with main frame"};n.source.postMessage(a,n.origin,[t])})),p.addEventListener("message",(function(e){var t;if("event propagation: receiver ready"!==(null===(t=e.data)||void 0===t?void 0:t.type))return;if(!l(e))return;const o=new MessageChannel,a={type:"event propagation: connect receiver with sender",applicationId:e.data.applicationId};n.postMessage(a,[o.port1]),e.source.postMessage(a,e.origin,[o.port2])}))},initSender:function(){let e=null;const n=new Set,t=new WeakMap;function o(e){var o;if("event propagation: connect receiver with sender"!==(null===(o=e.data)||void 0===o?void 0:o.type))return;const a=e.ports[0];n.add(a),t.set(a,{applicationId:e.data.applicationId}),a.addEventListener("message",(function e(t){var o;"event propagation: receiver close"===(null===(o=t.data)||void 0===o?void 0:o.type)&&(a.removeEventListener("message",e),n.delete(a))})),a.start()}const a=[];function i(o,i,c){var p;if(!e)return void a.push({eventType:o,eventPayload:i,options:c});const l={type:"event propagation: event from sender",eventType:o,eventPayload:m(i)?i:d.a.cloneDeep(i)},r=(null===(p=null==c?void 0:c.onlyTo)||void 0===p?void 0:p.applicationId)&&parseInt(c.onlyTo.applicationId,10),s=r?Array.from(n).filter(e=>{var n;return(null===(n=t.get(e))||void 0===n?void 0:n.applicationId)===r}):n;for(const e of s)e.postMessage(l)}return p.addEventListener("message",(function n(t){var d;if("event propagation: connect sender with main frame"===(null===(d=t.data)||void 0===d?void 0:d.type)&&r(t))for(p.removeEventListener("message",n),e=t.ports[0],e.addEventListener("message",o),e.start();a.length;){const{eventType:e,eventPayload:n,options:t}=a.shift();i(e,n,t)}})),function n(){e||(p.parent.postMessage({type:"event propagation: sender ready"},"*"),setTimeout(n,30))}(),{propagateEvent:i}},initReceiver:function(e,n){let t=null;function o(n){var t;if("event propagation: event from sender"!==(null===(t=n.data)||void 0===t?void 0:t.type))return;const{eventType:o,eventPayload:a}=n.data;e.__dispatchEvent(new c(o,{detail:a}))}p.addEventListener("message",(function e(n){var a;"event propagation: connect receiver with sender"===(null===(a=n.data)||void 0===a?void 0:a.type)&&r(n)&&(p.removeEventListener("message",e),p.addEventListener("beforeunload",()=>{const e={type:"event propagation: receiver close"};null==t||t.postMessage(e)}),t=n.ports[0],t.addEventListener("message",o),t.start())}));const a={type:"event propagation: receiver ready",applicationId:n.applicationId};p.parent.postMessage(a,"*")}}}})}));
//# sourceMappingURL=platformEvents.min.js.map